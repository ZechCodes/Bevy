<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Primary Meta Tags -->
    <title>Bevy - Python Dependency Injection Framework</title>
    <meta name="title" content="Bevy - Python Dependency Injection Framework">
    <meta name="description" content="Bevy is a simple object oriented dependency injection framework for Python.">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://bevy.zech.codes/">
    <meta property="og:title" content="Bevy - Python Dependency Injection Framework">
    <meta property="og:description" content="Bevy is a simple object oriented dependency injection framework for Python.">
    <meta property="og:image" content="https://bevy.zech.codes/bevy-preview.png">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://bevy.zech.codes/">
    <meta property="twitter:title" content="Bevy - Python Dependency Injection Framework">
    <meta property="twitter:description" content="Bevy is a simple object oriented dependency injection framework for Python.">
    <meta property="twitter:image" content="https://bevy.zech.codes/bevy-preview.png">

    
    <link rel="icon" type="image/png" href="bevy-icon.png" />
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/firacode/5.2.0/fira_code.min.css" integrity="sha512-MbysAYimH1hH2xYzkkMHB6MqxBqfP0megxsCLknbYqHVwXTCg9IqHbk+ZP/vnhO8UEW6PaXAkKe2vQ+SWACxxA==" crossorigin="anonymous" />
    <link href="styles.css" rel="stylesheet" />
</head>
<body class="home-page">
    <header>
        <div class="container">
            <h1>Bevy</h1>
            <p>The simple Object Oriented dependency injection framework</p>
            <a href="https://pypi.org/project/bevy/" target="_blank" class="button-get button">
                <span>Get Bevy</span>
            </a>
        </div>
    </header>
    <div class="container section">
        <h2><span>Features</span></h2>
        <p>Bevy is a <strong>Dependency Injection</strong> framework for <em>Object Oriented</em> applications. It makes it easy to declare dependencies on your classes using <em>Attribute Annotations</em>.</p>
    </div>
    <div class="code">
        <div class="container">
            <pre><span class="py-decl">class</span> <span class="py-name">Application</span>(<span class="py-name">Injectable</span>):
    <span class="py-varname">db</span>: <span class="py-annotation">PostgresDBConnection</span></pre>
        </div>
    </div>
    <div class="container section">
        <p>Creating an object with all its dependencies is as simple as instantiating your class. This will create an <em>Application Context</em>, all dependencies created in the context will be shared.</p>
    </div>
    <div class="code">
        <div class="container">
            <pre><span class="py-decl">class</span> <span class="py-name">HomePage</span>(<span class="py-name">Injectable</span>):
    <span class="py-varname">db</span>: <span class="py-annotation">PostgresDBConnection</span>

<span class="py-decl">class</span> <span class="py-name">Application</span>(<span class="py-name">Injectable</span>):
    <span class="py-varname">db</span>: <span class="py-annotation">PostgresDBConnection</span>
    <span class="py-varname">home</span>: <span class="py-annotation">HomePage</span>

<span class="py-varname">app</span> = <span class="py-name">Application</span>()</pre>
        </div>
    </div>
    <div class="container section">
        <p>If you need to be able to create multiple instances of an object that share the same <strong>Application Context</strong> just use Bevy’s <em>Simple Factory</em> mechanism.</p>
    </div>
    <div class="code">
        <div class="container">
            <pre><span class="py-decl">class</span> <span class="py-name">Application</span>(<span class="py-name">Bevy</span>):
    <span class="py-varname">create_player</span>: <span class="py-annotation">Factory[Player]</span>
    ...

    <span class="py-decl">def</span> <span class="py-name">add_player</span>(<span class="py-varname">self</span>, <span class="py-varname">player_name</span>: <span class="py-annotation">str</span>):
        <span class="py-varname">player</span> = <span class="py-varname">self</span>.<span class="py-name">create_player</span>(<span class="py-varname">player_name</span>)
        <span class="py-varname">self</span>.<span class="py-varname">players</span>.<span class="py-name">append</span>(<span class="py-varname">player</span>)</pre>
        </div>
    </div>
    <div class="container section">
        <p>The <em>Bevy Injector Protocol</em> can be used by a dependency class to customize how its instances are created when injected. This is done by defining a Bevy inject classmethod. At runtime a <strong>type error</strong> will be raised if the method is not a classmethod.
    </div>
    <div class="code">
        <div class="container">
            <pre><span class="py-decl">class</span> <span class="py-name">MyInjector</span>:
    <span class="py-decl">def</span> <span class="py-name">__init__</span>(<span class="py-varname">self</span>, <span class="py-varname">an_arg</span>: <span class="py-annotation">str</span>):
        ...

    <span class="py-decorator">@classmethod</span>
    <span class="py-decl">def</span> <span class="py-name">__bevy_inject__</span>(
        <span class="py-varname">cls</span>, <span class="py-varname">context</span>: <span class="py-annotation">Context</span>, <span class="py-varname">instance</span>: <span class="py-annotation">T</span>, *<span class="py-varname">args</span>, **<span class="py-varname">kwargs</span>
    ) -> <span class="py-annotation">MyInjector</span>:
        <span class="py-statement">return</span> <span class="py-varname">cls</span>(<span class="py-varname">kwargs.get</span>(<span class="py-string">"a_value"</span>, <span class="py-string">"No Value"</span>)</span>)
    ...</pre>
        </div>
    </div>
    <div class="container section">
        <p>The Bevy inject method should return an instance of that class. This instance will not be inserted into the context's repository, so will not be reused in the future. It also will not have any of it's dependencies injected by the context. If that is necessary, the context's create method can be used to build an instance that has had its dependencies injected.</p></p>
    </div>
    <div class="code">
        <div class="container">
            <pre><span class="py-statement">return</span> <span class="py-varname">context</span>.<span class="py-varname">create</span>(<span class="py-varname">cls</span>, <span class="py-varname">kwargs.get</span>(<span class="py-string">"a_value"</span>, <span class="py-string">"No Value"</span>)</span>)</pre>
        </div>
    </div>
    <div class="container section">
        <p>You can get a more detailed understanding by checking out the documentation!</p>
        <a href="https://github.com/ZechCodes/Bevy/blob/main/README.md" class="docs-link" target="_blank">Documentation <span class="fira">-&gt;</span></a>
    </div>
    <div class="get-bevy">
        Get <span>Bevy</span>
        <div class="code ">
            <div class="container">
                <pre>$> pip install bevy</pre>
            </div>
        </div>
    </div>
    <footer>
        <a href="https://github.com/ZechCodes/Bevy/">GitHub</a>
        <a href="https://github.com/ZechCodes/Bevy/blob/main/README.md">Documentation</a>
        <a href="https://pypi.org/project/bevy/">PyPI</a>
        <p>©2021 Zech Zimmerman</p>
    </footer>
</body>
</html>
